### 本部分内容* shell中每个命令和脚本完成后都有一个退出状态* shell的内部命令 `test`测试一种或者几种状态是否成立### 7.1 退出状态* linux系统每当命令执行后返回一个退出状态，用一个整数值表示* 退出状态保存在命令 `$?`* 退出状态    * 0: 成功    * 1-125： 失败，脚本命令，系统命令错误，或者参数传递错误    * 126： 找到了命令，但无法执行    * 127：未找到运行的命令    * 》128：命令被系统强行结束 ### 7.2 测试* 测试结构    ```    test expression    # 条件为真返回0， 条件不为真，返回非0    [ expression ]    # 简写， 空格不可少    ```* 整数比较运算符> 整数比较运算符不适合浮点数比较，若想比较浮点数，则需要特定的函数```test "num1" numeric_operator "num2"[ "num1" numeric_operator "num2" ]``````test num1 -eq num2  # 等于，测试结果为0test num1 -ge num2  # 大于或等于test num1 -gt num2  # 大于test num1 -le num2  # 小于或等于test num1 -lt num2  # 小于test num1 -ne num2  # 不等于``````num1 = 15[ "$num1" -eq 15 ]   # 测试num1是否等于15echo $?               # 0 退出状态为0，表示num1等于15[ "$num1" -eq 16 ]   # 测试num1是否等于15echo $?               # 1 退出状态为1，表示num1不等于16```* 字符串运算符> 大小写敏感,建议使用双引号把变量包起来```test string``````test string  # 测试字符串string是否不为空   test -n string  # 测试字符串string是否不为空   test -z string  # 测试字符串string是否为空   test string1 = string2  # 测试字符串string1是否与string2相同   test string1 !=string2  # 测试字符串string1是否与string2不相同```* 文件操作符```test file_operator File  # file为文件名，目录名或者文件路径``````test -d file  # 是否为目录test -e file  # 是否存在test -f file  # 是否是普通文件test -s file  # 是否长度不为0test -r file  # 是否是进程可读文件test -w file  # 是否是进程可写文件test -x file  # 是否是进程可执行文件test -L file  # 是否是符号化链接```* 逻辑运算符```! expression  # 非expression1 -a expression2  # 与expression1 -o expression2  # 或[ -e file1 -a -x file2 ]  # file1存在 与 file2可执行```### 7.3 判断* 简单的if结构    ```    if expression    then         command        command    fi    ```    ```    read int1    if [ "$int1" -lt 10 ]    then echo "$int1"    fi    ```* exit命令    ```    read str1        if [ -z "$str1" ]    then        echo "you input is null"        exit 1    fi    ```* if/else结构    ```    if test; then    command    ...    command    else        command        ...        command    fi    ```    ```    if [ -e "$1" ]; then    echo "file $1 exist."    else        echo "file $1 not exist."        exit 1    fi    ```* if/else语句嵌套    ```    if test; then        if test; then            command        else             command        fi    else         if test; then            command        else             command            fi    fi    ```* if/elif/else结构    ```    if test; then        command    elif test; then        command     elif test; then        command     else         command    fi    ```* case结构    ```   case variable in    value1)  # 必须是常量或正则表达式       command       ...       command;;    value2)       command       ...       command;;  # ;; break    *)  # default       command       ...       command;;    esac    ```   ```    read month    case "$month" in    1)    echo "the month 1";;    2)    echo "the month 2";;    *)    echo "the end";;    esac   ```### 7.4 运算符* 数字常量    1. 0作为前缀表示八进制    2. 0x作为前缀表示十六进制    3. 2#作为前缀表示二进制    4. num#作为前缀表示num进制